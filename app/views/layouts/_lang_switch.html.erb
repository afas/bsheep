<div id="lang">
  <span class="current"><%= I18n.locale.upcase %></span>
  <ul>
    <% Language.collection.each do |lang| %>
        <li><a href="/language/<%= lang.cut %>"><%= lang.name.upcase %></a></li>
    <% end %>
  </ul>
</div>

<script type="text/javascript">
    $('#lang').click(function () {
        $(this).toggleClass('expanded');
    });

    $(document).click(function (event) {
        if (!$(event.target).closest('#lang').length) {
            $('#lang').removeClass('expanded');
        }
    });
</script>